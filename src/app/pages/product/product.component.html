<h1>Produtos</h1>
<ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
  <li [ngbNavItem]="1">
    <a ngbNavLink>Produto</a>
      <ng-template ngbNavContent>

        <dx-data-grid
        id="gridContainer"
        [dataSource]="products"
        keyExpr="id"
        [showBorders]="true"
      >
        <dxi-column dataField="id" [width]="70" caption="Id"></dxi-column>
        <dxi-column dataField="name"></dxi-column>
        <dxi-column dataField="description"></dxi-column>
        <dxi-column dataField="discount" [width]="170"></dxi-column>
        <dxi-column dataField="created_at" dataType="date"></dxi-column>
        <dxo-master-detail [enabled]="true" template="detail"></dxo-master-detail>
        <div *dxTemplate="let sk of 'skus'">
          <div class="master-detail-caption">{{
            sk.name + " " + sk.description
          }}</div>
          <detail-grid [key]="sk.id"></detail-grid>
        </div>
      </dx-data-grid>
        
        <!-- <dx-data-grid
        id="gridContainer"
        [dataSource]="products"
        [showBorders]="true"
        keyExpr="id"
        (onSaved)="onSavedProduct($event)"
      >
        <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
            
        <dxo-filter-row [visible]="true"></dxo-filter-row>
        <dxo-header-filter [visible]="true"></dxo-header-filter>
        <dxo-group-panel [visible]="true"></dxo-group-panel>
        <dxo-scrolling mode="virtual"></dxo-scrolling>

        <dxo-paging [enabled]="false"></dxo-paging>
        <dxo-editing
          mode="row"
          [allowUpdating]="true"
          [allowDeleting]="true"
          [useIcons]="true"
          [allowAdding]="true"
        ></dxo-editing>
      
        <dxi-column type="buttons" [width]="110">
          <dxi-button name="edit"></dxi-button>
          <dxi-button name="delete"></dxi-button>
 
        </dxi-column>
        <dxi-column dataField="id" caption="Id"></dxi-column>
        <dxi-column dataField="name" caption="Nome"></dxi-column>
        <dxi-column dataField="description"></dxi-column>
        <dxi-column dataField="status" [width]="130" dataType="boolean"></dxi-column>
        <dxi-column dataField="discount" [width]="130"></dxi-column>


      </dx-data-grid> -->


      </ng-template>
  </li>
  <li [ngbNavItem]="2">
    <a ngbNavLink>SKU</a>
    <ng-template ngbNavContent>
      
      <dx-data-grid
      id="gridContainer"
      [dataSource]="sku"
      [showBorders]="true"
      keyExpr="id"
      (onSaved)="onSavedSku($event)"
    >
      <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
          
      <dxo-filter-row [visible]="true"></dxo-filter-row>
      <dxo-header-filter [visible]="true"></dxo-header-filter>
      <dxo-group-panel [visible]="true"></dxo-group-panel>
      <dxo-scrolling mode="virtual"></dxo-scrolling>

      <dxo-paging [enabled]="false"></dxo-paging>
      <dxo-editing
        mode="row"
        [allowUpdating]="true"
        [allowDeleting]="true"
        [useIcons]="true"
        [allowAdding]="true"
      ></dxo-editing>
    
      <dxi-column type="buttons" [width]="110">
        <dxi-button name="edit"></dxi-button>
        <dxi-button name="delete"></dxi-button>

      </dxi-column>
      <!-- combo box carregado -->
      <!-- <dxi-column dataField="product.name" [width]="125" caption="Produto">
        <dxo-lookup
          [dataSource]="products"
          displayExpr="name"
          valueExpr="name"
        ></dxo-lookup>
      </dxi-column> -->

      <dxi-column dataField="name" caption="Sku Nome"></dxi-column>
      <dxi-column dataField="description" caption="Sku Desc."></dxi-column>
      <dxi-column dataField="active" caption="Ativo"></dxi-column>
      <dxi-column dataField="price" caption="Preço" [allowAdding]="true"></dxi-column>
    </dx-data-grid>

    </ng-template>
  </li>


  <li [ngbNavItem]="3">
    <a ngbNavLink>Categoria</a>
    <ng-template ngbNavContent>
      
      <dx-data-grid
      id="gridContainer"
      [dataSource]="category"
      [showBorders]="true"
      keyExpr="id"
      (onSaved)="onSavedCategory($event)"
      (onRowRemoved)="onRemovedCategory($event)"
    >
      <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
          
      <dxo-filter-row [visible]="true"></dxo-filter-row>
      <dxo-header-filter [visible]="true"></dxo-header-filter>
      <dxo-group-panel [visible]="true"></dxo-group-panel>
      <dxo-scrolling mode="virtual"></dxo-scrolling>

      <dxo-paging [enabled]="false"></dxo-paging>
      <dxo-editing
        mode="row"
        [allowUpdating]="true"
        [allowDeleting]="true"
        [useIcons]="true"
        [allowAdding]="true"
      ></dxo-editing>
    
      <dxi-column type="buttons" [width]="110">
        <dxi-button name="edit"></dxi-button>
        <dxi-button name="delete"></dxi-button>
        <!-- <dxi-button
          hint="Clone"
          icon="copy"
          [visible]="true"
          [disabled]="false"
          
        ></dxi-button> -->
      </dxi-column>
      <dxi-column dataField="id" caption="id" [allowEditing]="false"></dxi-column>
      <dxi-column dataField="name" caption="Nome"></dxi-column>
      <dxi-column dataField="description" caption="Descrição"></dxi-column>
    </dx-data-grid>

    </ng-template>
  </li>

  <li [ngbNavItem]="4">
    <a ngbNavLink>Inventário</a>
    <ng-template ngbNavContent>
      
      <dx-data-grid
      id="gridContainer"
      [dataSource]="inventory"
      [showBorders]="true"
      keyExpr="id"
      (onRowUpdated)="onUpdatedInventory($event)"
    >
      <dxo-scrolling rowRenderingMode="virtual"> </dxo-scrolling>
          
      <dxo-filter-row [visible]="true"></dxo-filter-row>
      <dxo-header-filter [visible]="true"></dxo-header-filter>
      <dxo-group-panel [visible]="true"></dxo-group-panel>
      <dxo-scrolling mode="virtual"></dxo-scrolling>

      <dxo-paging [enabled]="false"></dxo-paging>
      <dxo-editing
        mode="row"
        [allowUpdating]="true"
        [useIcons]="true"
      ></dxo-editing>
    
      <dxi-column type="buttons" [width]="110">
        <dxi-button name="edit"></dxi-button>
      </dxi-column>
      <dxi-column dataField="sku_id" caption="Id Sku" [allowEditing]="false"></dxi-column>
      <dxi-column dataField="quantity" caption="Quantidade"></dxi-column>
    </dx-data-grid>
      

    </ng-template>
  </li>
</ul>

<div [ngbNavOutlet]="nav" class="mt-2"></div>

<!-- <pre>Active: {{ active }}</pre> -->




